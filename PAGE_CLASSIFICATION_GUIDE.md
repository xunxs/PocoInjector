# 页面按钮分类工具使用指南

## 🎯 工具概述

这套工具帮助您按不同页面分类整理游戏中的按钮，为每个页面建立独立的按钮映射。

## 📁 工具文件

### 1. `page_button_classifier.py` - 完整版分类工具
- **功能**: 完整的页面分类和按钮管理
- **特点**: 支持交互模式，自动页面类型检测
- **用途**: 详细的页面分析和分类

### 2. `quick_page_scanner.py` - 快速扫描工具
- **功能**: 快速扫描指定页面的按钮
- **特点**: 支持命令行和交互模式
- **用途**: 快速收集各页面按钮信息

## 🚀 使用方法

### 方法一：快速扫描（推荐）

#### 交互模式
```bash
python quick_page_scanner.py
```

**操作步骤**：
1. 进入游戏的目标页面
2. 输入页面名称（如：主页面、登录页面、设置页面等）
3. 工具自动扫描并显示该页面的所有按钮
4. 重复步骤1-3，扫描其他页面
5. 输入 `save` 保存所有页面数据

#### 命令行模式
```bash
python quick_page_scanner.py "主页面"
python quick_page_scanner.py "登录页面"
python quick_page_scanner.py "设置页面"
```

### 方法二：完整分类工具

```bash
python page_button_classifier.py
```

**可用命令**：
- `scan` - 扫描当前页面按钮
- `show` - 显示当前页面按钮
- `list` - 显示所有页面统计
- `save` - 保存分类结果
- `quit` - 退出

## 📋 扫描流程

### 1. 准备阶段
- 确保游戏正在运行
- 确保 PocoInjector 插件已加载
- 准备好要扫描的页面列表

### 2. 扫描阶段
```
页面1: 主页面
页面2: 登录页面  
页面3: 设置页面
页面4: 战斗页面
页面5: 商店页面
页面6: 角色页面
页面7: 背包页面
...更多页面
```

### 3. 保存阶段
- 所有页面扫描完成后
- 输入 `save` 保存所有数据
- 生成时间戳命名的 JSON 文件

## 📊 输出文件

### 1. 页面按钮数据文件
```json
{
  "主页面": {
    "buttons": [...],
    "timestamp": "2025-10-15 15:30:00",
    "button_count": 15
  },
  "登录页面": {
    "buttons": [...],
    "timestamp": "2025-10-15 15:31:00", 
    "button_count": 8
  }
}
```

### 2. 页面历史记录文件
```json
[
  {
    "page": "主页面",
    "timestamp": "2025-10-15 15:30:00",
    "button_count": 15
  }
]
```

## 🎮 页面分类建议

### 常见游戏页面类型
- **主页面** - 游戏主界面
- **登录页面** - 账号登录界面
- **设置页面** - 游戏设置界面
- **战斗页面** - 战斗相关界面
- **商店页面** - 商店购买界面
- **角色页面** - 角色信息界面
- **背包页面** - 物品管理界面
- **任务页面** - 任务相关界面
- **好友页面** - 社交功能界面
- **排行榜页面** - 排名显示界面

### 页面命名规范
- 使用中文名称，便于理解
- 名称简洁明了，避免过长
- 保持一致性，同类页面使用相似命名

## 🔧 高级功能

### 1. 自动页面检测
工具会根据按钮特征自动检测页面类型：
- 包含 "login" → 登录页面
- 包含 "main/home" → 主页面
- 包含 "notice" → 通知页面
- 包含 "settings" → 设置页面

### 2. 按钮位置信息
每个按钮包含完整的位置信息：
- **坐标类型**: rect/local/world
- **位置数据**: (x, y, z)
- **组件信息**: Transform, Component 等

### 3. 时间戳记录
- 记录每个页面的扫描时间
- 便于追踪页面变化
- 支持历史数据对比

## 📈 后续处理

### 1. 生成页面映射
基于扫描结果，为每个页面生成独立的按钮映射文件：
```
主页面_buttons.json
登录页面_buttons.json
设置页面_buttons.json
...
```

### 2. 创建页面控制器
为每个页面创建专门的控制器脚本：
```python
class MainPageController:
    def __init__(self):
        self.buttons = load_page_buttons("主页面_buttons.json")
    
    def click_start_button(self):
        # 点击开始按钮的逻辑
        pass
```

### 3. 自动化流程设计
基于页面分类，设计完整的自动化流程：
- 页面切换逻辑
- 按钮点击序列
- 状态检测机制

## 🎉 优势

- ✅ **页面隔离**: 每个页面的按钮独立管理
- ✅ **快速扫描**: 支持快速收集各页面数据
- ✅ **自动分类**: 智能检测页面类型
- ✅ **完整记录**: 包含时间戳和历史记录
- ✅ **易于扩展**: 支持添加新页面类型

现在您可以开始扫描游戏的不同页面了！建议从主页面开始，然后逐步扫描其他重要页面。
